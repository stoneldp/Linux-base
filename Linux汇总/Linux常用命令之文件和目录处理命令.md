# Linuxy常用命令之文件和目录处理命令
## Linux命令的普遍语法格式
```markdown
命令格式:命令 【-选项】 【参数】
如:ls -la /etc
```
- **说明：**
  - 1、个别命令使用不遵循此命令，
  - 2、当有多个选项时，可以写在一起
  - 3、简化选项（一般用一个‘-’）与完整选项（一般使用两个‘--’）；如ls -a和ls -all。
### 目录处理命令
#### 一、显示目录文件命令：ls
- 1.命令名称：**ls**
- 2.英文原意：**list**
- 3.命令所在路径：**/bin/ls**
- 4.执行权限：所有用户
- 5.功能描述：显示目录文件
- 6.语法：`ls 选项 【-ald】 【文件或目录】
  - `-a`显示所有文件，包括隐藏文件
  - `-l`详细信息显示
  - `-d`仅显示目录名称，而不显示目录下的内容列表。
  - `-h`人性化显示(hommization)
  - `-i`查看任意一个文件的i节点(类似于身份证唯一信息)
  - `-t`用文件和目录的更改时间排序；可以用第一个显示的文件判断最近修改的文件。
  - ![](https://github.com/stoneldp/Linux-base/blob/master/photo/ls.png)
  - 注意：‘.’开头的文件除非是目录，否则就是隐藏文件。
  - 图形中分别列举了`ls`的各种命令组合效果。解析每个字段：
    - `-rw------- 1 root root 1.3k Mar 11 08:05 anaconda_ks.cfg`解析
      - 1、第一位表示文件类型，
        - `-`表示二进制文件；
        - `d`表示目录；
        - `l`表示软连接文件。
      - 2、后面的每三位组成一组。
        - `---`分别代表:ugo,u(user)所有者；g(group)所属组；o(other)其他人。
          - `r`:读权限；`w`:写权限；`x`:执行权限；`-`无权限
      - 3、`1`:引用计数，表示文件被引用过多少次。
      - 4、`root`:这第一个root表示所有者，一般创建一个文件，所有者默认是创建者。
      - 5、`root`:这第二个root表示所属组。
      - 6、`1.3K`:表示文件字节大小，不带单位表示字节。
      - 7、`Mar 11 08:05`:表示文件的最后修改时间。注意：Linux没有明确创建时间，只有最后一次访问时间，文件修改时间，文件的数据修改时间。
      - 8、`anaconda-ks.cfg`表示文件名。
      - ![](https://github.com/stoneldp/Linux-base/blob/master/photo/%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90.png)
#### 二、创建目录命令：`mkdir` 
- 1、命令名称：`mkdir`
- 2、英文意愿:`make directories`
- 3、命令所在路径:`/bin/mkdir`
- 4、执行权限:所有用户
- 5、功能描述:`创建新目录`
- 6、语法:`mkdir 【-p】 【目录名】
  - `-p`:递归创建
  - 举例子:
    - 创建单个目录:`mkdir /tmp/cae.txt`
    - 创建多个目录:`mkdir /tmp/a.txt /tmp/b.txt`
  - 注意：
    - 1、创建的目录已经存在，那么Linux会提示我们Linux无法创建。
    - 2、不带任何参数运行`mkdir`命令会在当前目录下创建目录。
    - 3、不带`-p`,如果新建的文件上级目录不存在则不会执行成功这种说法是错误的，加或者不加`-p`前面的目录没有得都会依次创建。
    - 4、创建目录的首要条件是，在想要创建目录的目标路径下你必须具备访问权限。
#### 三、切换目录命令：`cd`
- 1、命令名称：`cd`
- 2、英文原意：`change directory`
- 3、命令所在路径：`shell`内置命令
- 4、执行权限：所有用户
- 5、功能描述：切换目录
- 6、语法：`cd 【目录名】`
  - 例子：切换到指定目录：`cd /tmp/vae`
  - 回到上一级目录：`cd ..`
  - 还是在当前目录：`cd .`
  - 返回上两级目录：`cd ../..`
  - 返回进入此目录之前所在目录：`cd -`
  - ![](https://github.com/stoneldp/Linux-base/blob/master/photo/cd.png)
#### 四、shell内置命令和外部命令的区别
- **内部命令：**实际上是`shell`程序的一部分，其中包括的是一些比较简单的`Linux`系统命令，这些命令由`shell`程序识别并在`shell`程序内部完成运行，通常在`linux`系统加载运行时`shell`就被加载并驻留在系统内存中。内部命令是写在`bashy`源码里面的。其执行速度比外部命令快。因为解析内部命令`shell`不需要创建子进程。比如：`exit、history、cd、echo`
- **外部命令：**是`Linux`系统中的实用程序部分，因为实用程序的功能都比较强大，所以其包含的程序量也会很大，在系统加载时并不随系统一起被加载到内存中，而是在需要时才将其调用内存。通常 外部命令的实体并不包含在shell中，但是其命令执行过程是由shell程序控制的。shell程序管理外部命令执行的路径查找、加载存放、并控制命令的执行。外部命令是在`bash`之外额外安装的，通常放在`/bin,/usr/bin,/sbin,/usr/sbin...`等。可通过**echo $PATH**命令查看外部命令的存储路径，比如：`ls,vi`.
- 使用`type`命令可以分辨内部命令与外部命令：
  - ![](https://github.com/stoneldp/Linux-base/blob/master/photo/type%E5%8C%BA%E5%88%86shell%E5%86%85%E9%83%A8%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4.png)
- **内部外部命令最大的区别在于性能**
  - 由于构建在shell中而不必创建多余的进程，要比外部命令执行快得多。
  - 因此放在较大脚本中，执行包含很多外部命令的脚本会损害脚本的性能。
#### 五、显示当前目录命令：`pwd`
- 1、命令名称：`pwd`
- 2、英文原意：`print working directory`
- 3、命令所在路径：`/bin/pwd`
- 4、执行权限：所有用户
- 5、功能描述：显示当前目录
- 6、语法：`pwd`
  - 如:显示当前目录：`pwd`
#### 六、删除空目录命令：`mkdir`
- 1、命令名称：`rmdir`
- 2、英文意愿：`remove empty directories`
- 3、命令所在路径：`/bin/emddir`
- 4、执行权限：所有用户
- 5、功能描述：删除空目录（如果目录下存在文件则不能删除）
- 6、语法：`rmdir 【空目录名】
  - 如：删除指定空目录：`rmdir /temp/a`
  - ![](https://github.com/stoneldp/Linux-base/blob/master/photo/rmdir%E5%92%8Cmkdir.png)
  - 注：此命令只能删除空目录，由此在实际操作中使用不多。后面讲解的`rm`命令可代替。
#### 七、复制文件或目录命令：`cp`
- 1、命令名称：`cp`
- 2、英文原意:`copy`
- 3、命令所在路径：`/bin/cp`
- 4、执行权限：所有用户
- 5、功能描述：复制文件或目录
- 6、语法：`cp -rp 【原文件或目录】 【目标目录】
  - `-r`复制目录
  - `-p`保留文件属性
  - 如：1、比如将`root`目录下的`install.log`文件复制到`tmp`目录下
    - ![](https://github.com/stoneldp/Linux-base/blob/master/photo/cp.png)
  - 2、**可以用于复制后文件改名**，将`root`下的`install.log`文件复制到`tmp`后改名为`copyinstall.log`
  - ![]()
  - 还可以同时复制多个文件，复制目录时需加`-r`选项。
  - 加`-p`选项，会将原文件的一些属性原封不动的复制过去，如:修改时间。如果不加`-p`,那么复制过去的文件修改时间为当前系统时间。
  - 